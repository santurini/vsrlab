# @package _global_
defaults:
  - override /train/model: baby_vrt_moe
  - override /train: gan
  - override /train/data: hard_schedule

train:
  model:
    window_size: [ 8, 8, 8 ]

  data:
    batch_size: 4
    datasets:
      train:
        seq: 8

  ddp: True
  max_epochs: 500000
  num_grad_acc: 4

  perceptual_loss:
    _target_: core.losses.OpticalFlowConsistency
    weight: 1e-2

  adversarial_loss:
    weight: 2e-5

  # restore: '/home/aghinassi/Desktop/nn-lab/storage/video-super-resolution/swhretylkdsfb/checkpoint.tar'
# @package _global_
defaults:
  - override /train/model: baby_vrt_moe_spy
  #- override /train/data: easy_schedule

train:
  model:
    num_experts: 4
    num_gpus: 1
    top_k: 2
    depths: [ 4, 4, 4, 4, 4, 8, 8 ]
    embed_dims: [ 32, 32, 32, 32, 32, 64, 64 ]
    num_heads: [ 4, 4, 4, 4, 4, 8, 8 ]

  optimizer:
    lr: 1e-5

  data:
    batch_size: 4
    datasets:
      train:
        seq: 6
      val:
        _target_: vsr.dataset.ValDatasetVSR
        path_hr: "/home/aghinassi/Desktop/groundtruth/fps=6_crf=5/frames"
        path_lr: "/home/aghinassi/Desktop/compressed/fps=6_crf=30/frames"
        seq: ${train.data.datasets.train.seq}
        hr_augmentation:
          - _target_: torchvision.transforms.CenterCrop
            size: 256
        lr_augmentation:
          - _target_: torchvision.transforms.CenterCrop
            size: 64

  ddp: True
  num_grad_acc: 4

  #restore: '/home/aghinassi/Desktop/nn-lab/storage/video-super-resolution/esugmana/checkpoint.tar'
  #restore_opt: true